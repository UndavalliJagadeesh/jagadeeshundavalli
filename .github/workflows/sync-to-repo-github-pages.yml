name: Sync main to UndavalliJagadeesh.github.io v2

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  sync:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo jagadeeshudavalli
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Configure git
        run: |
          git config user.name "UndavalliJagadeesh"
          git config user.email "20pa1a05h6@vishnu.edu.in"

      - name: Add repo B as remote
        run: |
          git remote add UndavalliJagadeesh.github.io https://x-access-token:${{ secrets.REPO_B_TOKEN }}@github.com/ORG_OR_USER/UndavalliJagadeesh.github.io.git

      - name: Push main to repo UndavalliJagadeesh.github.io v2
        run: |
          git push UndavalliJagadeesh.github.io main:v2 --force
